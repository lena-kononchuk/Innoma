import{_ as f,r as w,i as v,j as b,a as y,c as d,o as m,w as x,b as l,k as c}from"./index-DFciyPlO.js";var u=function(t){return Array.prototype.slice.call(t)},g=function(){var t=window.navigator.userAgent,i=!!t.match(/iPad/i)||!!t.match(/iPhone/i),r=!!t.match(/WebKit/i);return i&&r&&!t.match(/CriOS/i)},A={scale:1.5,speed:1.5,wrapperClass:null,willChange:!1,externalRAF:!1},a=function(t,i){var r=this;if(this.element=t,this.wrapper=document.createElement("div"),this.options=Object.assign({},A,i),this.updateOptions(),this.vh=document.documentElement.clientHeight,this.isVisible=!1,this.damp=this.calcDamp(document.documentElement.clientWidth),this.elementTagName=t.tagName.toLowerCase(),this.elementTagName==="img"){var e=t.getAttribute("src");if(!e)return;(async function(o){var n=new Image;return n.src=o,await n.decode(),n})(e).then(function(){r.createParallax()})}else this.createParallax()};a.prototype.createParallax=function(){this.setStyle(!0),this.wrapElement(),g()||this.createObserver()},a.prototype.updateOptions=function(){var t=this.element.getAttribute("data-u-scale"),i=this.element.getAttribute("data-u-speed"),r=this.element.getAttribute("data-u-willchange");t!==null&&(this.options.scale=Number(t)),i!==null&&(this.options.speed=Number(i)),r!==null&&(this.options.willChange=!0)},a.prototype.setStyle=function(t){t===void 0&&(t=!1);var i=this.element.clientHeight,r=this.element.clientWidth,e=window.getComputedStyle(this.element),o=e.position==="absolute",n=this.wrapper.style,s=this.element.style,p=this.options.scale;o&&e.marginRight!=="0px"&&e.marginLeft!=="0px"&&e.marginLeft===e.marginRight&&(n.margin="auto"),e.marginTop==="0px"&&e.marginBottom==="0px"||(n.marginTop=e.marginTop,n.marginBottom=e.marginBottom,s.marginTop="0",s.marginBottom="0"),e.inset!=="auto"&&(n.top=e.top,n.right=e.right,n.bottom=e.bottom,n.left=e.left,s.top="0",s.right="0",s.bottom="0",s.left="0"),e.transform!=="none"&&(n.transform=e.transform),e.zIndex!=="auto"&&(n.zIndex=e.zIndex),n.position=o?"absolute":"relative",e.gridArea!=="auto"&&e.gridArea!=="auto / auto / auto / auto"&&(n.gridArea=e.gridArea,s.gridArea="auto"),t&&(n.width="100%",n.overflow="hidden",s.display="block",s.overflow="hidden",s.backfaceVisibility="hidden",e.padding!=="0px"&&(s.padding="0"),this.elementTagName==="img"?s.objectFit="cover":this.elementTagName!=="video"&&(s.backgroundPosition="center")),e.borderRadius!=="0px"&&(n.borderRadius=e.borderRadius,n.isolation||(n.isolation="isolate"),e.marginLeft!=="0px"&&(n.marginLeft=e.marginLeft,s.marginLeft="0"),e.marginRight!=="0px"&&(n.marginRight=e.marginRight,s.marginRight="0"),n.width=r+"px"),o&&(n.width=r+"px",s.width="100%"),e.maxHeight!=="none"&&(n.maxHeight=e.maxHeight,s.maxHeight="none"),e.minHeight!=="0px"&&(n.minHeight=e.minHeight,s.minHeight="none"),s.width=r+"px",n.setProperty("height",i+"px","important"),s.setProperty("height",i*p+"px","important"),this.wrapperHeight=i,this.overflow=Math.floor(10*(i-i*p))/10},a.prototype.wrapElement=function(){var t=this.element.getAttribute("data-u-wrapper-class")||this.options.wrapperClass;t&&this.wrapper.classList.add(t);var i=this.element.closest("picture"),r=i!==null?i:this.element,e=r.parentNode;e!==null&&e.insertBefore(this.wrapper,r),this.wrapper.appendChild(r)},a.prototype.checkVisible=function(){var t=this.wrapper.getBoundingClientRect();t.bottom>0&&t.top<window.innerHeight?this.onEnter():this.onLeave()},a.prototype.createObserver=function(){var t=this;this.observer=new IntersectionObserver(function(i){i[0].isIntersecting?t.onEnter():t.onLeave()},{root:null,rootMargin:"0px",threshold:0}),this.observer.observe(this.wrapper)},a.prototype.onEnter=function(){var t=this.element.style,i="transform";this.options.willChange&&t.willChange!==i&&(t.willChange=i),this.isVisible=!0},a.prototype.onLeave=function(){var t=this.element;this.options.willChange&&t.style.willChange==="transform"&&(t.style.willChange=""),this.isVisible=!1},a.prototype.calcTranslateValue=function(){var t=window.pageYOffset;t<0&&(t=0);var i=this.wrapper.getBoundingClientRect().top+t,r=(t+this.vh-i)/((this.vh+this.wrapperHeight)/100),e=Math.min(100,Math.max(0,r))/100,o=this.overflow,n=this.options.speed,s=(o*n-o)/2,p=o*(1-e)*n*this.damp-s;return Number(p.toFixed(4))},a.prototype.calcDamp=function(t){var i=this.options.scale,r=this.options.speed;if(!(r>=1.4||i>=1.4)||!(t<=1e3))return 1;i<1&&(i=1),r<1&&(r=1);var e=1.2-(1-(t/1e3+(3-(i+r)))),o=Math.max(.5,Math.min(1,e));return Math.floor(100*o)/100},a.prototype.applyParallax=function(){this.element.style.transform="translate3d(0 , "+this.calcTranslateValue()+"px , 0)"},a.prototype.animate=function(){g()&&this.checkVisible(),window.pageYOffset<0||this.isVisible&&this.applyParallax()},a.prototype.reset=function(){this.damp=this.calcDamp(window.innerWidth);var t=this.wrapper.style,i=this.element.style;this.vh=document.documentElement.clientHeight,t.width="",t.position="",t.height="100%",i.width="",this.elementTagName==="img"&&t.position==="absolute"&&(t.height="100%"),t.gridArea===""?i.height="":i.height="100%",t.margin!=="0px"&&(t.margin="",i.margin=""),t.inset!=="auto"&&(t.top="",t.right="",t.bottom="",t.left="",i.top="",i.right="",i.bottom="",i.left=""),t.transform!=="none"&&(t.transform="",i.transform=""),t.zIndex!=="auto"&&(t.zIndex=""),t.borderRadius!=="0px"&&(t.borderRadius="",t.isolation=""),this.setStyle(),this.applyParallax()},a.prototype.destroy=function(){var t;this.observer&&this.observer.disconnect(),this.wrapper.removeAttribute("style"),this.element.removeAttribute("style"),(t=this.wrapper).replaceWith.apply(t,this.wrapper.childNodes)};var h=function(t,i){if(!t)throw new Error("Argument 'elements' cannot be null.");var r,e;this.instances=[],this.externalRAF=i&&i.externalRAF||!1,this.onResizeEvent=this.resize.bind(this),r=typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1,e=typeof Element<"u"&&Element.prototype.closest,r&&e&&"IntersectionObserver"in window&&this.init(function(o){return Array.isArray(o)?o:typeof o=="string"?u(document.querySelectorAll(o)):o instanceof HTMLElement?[o]:o instanceof NodeList||o instanceof HTMLCollection?u(o):[o]}(t),i)};h.prototype.init=function(t,i){this.instances=t.map(function(r){return new a(r,i)}),this.externalRAF||this.animate(),navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)?window.addEventListener("orientationchange",this.onResizeEvent):window.addEventListener("resize",this.onResizeEvent)},h.prototype.animate=function(){this.instances.forEach(function(t){t.animate()}),this.externalRAF||(this.requestId=window.requestAnimationFrame(this.animate.bind(this)))},h.prototype.reset=function(){this.instances.forEach(function(t){t.reset()})},h.prototype.resize=function(){clearTimeout(this.timer),this.timer=window.setTimeout(this.reset.bind(this),500),this.reset.bind(this)},h.prototype.destroy=function(){this.requestId&&window.cancelAnimationFrame(this.requestId),window.removeEventListener("resize",this.onResizeEvent),window.removeEventListener("orientationchange",this.onResizeEvent),this.instances.forEach(function(t){t.destroy()})};const E={class:"hero-section"},_={class:"section section--large center-xs start-md"},R={class:"wrapper relative"},C={class:"center-xs"},I={class:"h3 box green-bg white"},L={class:"text box white"},k={__name:"SectionMarkets",props:{bgImage:{type:String,required:!0}},setup(t){const i=w(null);let r=null;return v(()=>{i.value&&(r=new h(i.value,{scale:1.5,speed:1.2,willChange:!0}))}),b(()=>{r&&r.destroy()}),(e,o)=>{const n=y("lazy-bg");return m(),d("div",E,[x((m(),d("div",{class:"background background__small ukiyo",ref_key:"backgroundImage",ref:i},o[0]||(o[0]=[l("div",{class:"overlay"},null,-1)]))),[[n,t.bgImage]]),l("div",_,[l("div",R,[l("div",C,[l("div",I,[c(e.$slots,"title",{},void 0,!0)]),l("div",L,[c(e.$slots,"text",{},void 0,!0)]),c(e.$slots,"button",{},void 0,!0)])])])])}}},H=f(k,[["__scopeId","data-v-3d462794"]]);export{H as default};
